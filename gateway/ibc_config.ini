# IBC Configuration Template for AutoTrade-SPY
# ==============================================
# Copy this file to: %USERPROFILE%\Documents\IBC\config.ini
# Then fill in your IBKR credentials below.
#
# IMPORTANT: Do NOT commit the real config.ini with credentials to git.
# This template is safe to commit (no real credentials).

# --- Login Credentials ---
IbLoginId=YOUR_IBKR_USERNAME
IbPassword=YOUR_IBKR_PASSWORD

# Trading mode: "paper" or "live"
TradingMode=paper

# --- Connection Settings ---

# Accept incoming API connections (reject unknown sources)
AcceptIncomingConnectionAction=accept

# Override the API port (matches configs/default.yaml ib_port)
# Paper: 7497, Live: 7496
OverrideTwsApiPort=7497

# Read-only API access (safe for data fetching)
ReadOnlyApi=yes

# --- Session Management ---

# Handle existing session conflicts (e.g., logged in on mobile)
ExistingSessionDetectedAction=primaryoverride

# Auto-accept paper trading account warning dialog
AcceptNonBrokerageAccountWarning=yes

# --- Two-Factor Authentication ---

# Automatically retry login after 2FA timeout
ReloginAfterSecondFactorAuthenticationTimeout=yes

# Seconds to wait for 2FA before timing out (default: 180)
SecondFactorAuthenticationExitInterval=180

# --- Auto-Restart ---
# IB Gateway auto-restarts daily. IBC handles re-login automatically
# without requiring 2FA again (until Sunday session expiry).
# The restart time is configured in IB Gateway's settings:
#   Configure > Lock and Exit > Auto Restart
